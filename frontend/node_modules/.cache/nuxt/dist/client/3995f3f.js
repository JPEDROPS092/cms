(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{558:function(t,e,r){"use strict";r.r(e);var n=r(224),o=r(455),c=r(450),l=r(554),d=r(553),v=r(445),f=r(562),k=r(480),m=r(555),h=r(31),x=(r(112),{data:function(){return{valid:!1,loading:!1,post:{title:"",content:"",published:!0},titleRules:[function(t){return!!t||"Título é obrigatório"},function(t){return t.length<=100||"Título deve ter no máximo 100 caracteres"}],contentRules:[function(t){return!!t||"Conteúdo é obrigatório"}],snackbar:!1,snackbarText:"",snackbarColor:"success"}},methods:{submitForm:function(){var t=this;return Object(h.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.$refs.form.validate()){e.next=2;break}return e.abrupt("return");case 2:return t.loading=!0,e.prev=3,e.next=6,t.$axios.$post("/posts",t.post);case 6:r=e.sent,t.showSnackbar("Post criado com sucesso","success"),t.$router.push("/posts/".concat(r.id)),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),console.error("Erro ao criar post:",e.t0),t.showSnackbar("Erro ao criar post","error");case 15:return e.prev=15,t.loading=!1,e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[3,11,15,18]])})))()},showSnackbar:function(text){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";this.snackbarText=text,this.snackbarColor=t,this.snackbar=!0}}}),_=x,w=r(95),component=Object(w.a)(_,(function(){var t=this,e=t._self._c;return e("div",[e(o.a,[e(c.d,[t._v("Criar Novo Post")]),t._v(" "),e(c.c,[e(l.a,{ref:"form",on:{submit:function(e){return e.preventDefault(),t.submitForm.apply(null,arguments)}},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[e(k.a,{attrs:{label:"Título",required:"",rules:t.titleRules},model:{value:t.post.title,callback:function(e){t.$set(t.post,"title",e)},expression:"post.title"}}),t._v(" "),e(m.a,{attrs:{label:"Conteúdo",required:"",rules:t.contentRules,rows:"10"},model:{value:t.post.content,callback:function(e){t.$set(t.post,"content",e)},expression:"post.content"}}),t._v(" "),e(f.a,{attrs:{label:"Publicar imediatamente",color:"success"},model:{value:t.post.published,callback:function(e){t.$set(t.post,"published",e)},expression:"post.published"}})],1)],1),t._v(" "),e(c.a,[e(v.a),t._v(" "),e(n.a,{attrs:{color:"primary",text:"",to:"/posts"}},[t._v("\n        Cancelar\n      ")]),t._v(" "),e(n.a,{attrs:{color:"primary",disabled:!t.valid||t.loading,loading:t.loading},on:{click:t.submitForm}},[t._v("\n        Salvar\n      ")])],1)],1),t._v(" "),e(d.a,{attrs:{color:t.snackbarColor,timeout:3e3},scopedSlots:t._u([{key:"action",fn:function(r){var o=r.attrs;return[e(n.a,t._b({attrs:{text:""},on:{click:function(e){t.snackbar=!1}}},"v-btn",o,!1),[t._v("\n        Fechar\n      ")])]}}]),model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n    "+t._s(t.snackbarText)+"\n    ")])],1)}),[],!1,null,null,null);e.default=component.exports}}]);